#:kivy 1.10.0
#
# MIT License
# Copyright (c) 2021 Mini Autonomous
#
# Description:
#   This panel is used to power on the UI/vehicle and indicate in the current state of operation of the vehicle.
#
# create a new Kivy class "PowerCtrls" based on BoxLayout.
# Note: Kivy classes MUST start with a capital.

<PowerCtrls@BoxLayout>:
  # Python access keys
  power: kvPowerButton
  manual: kvManualLabel
  ai_steering: kvAISteering
  ai_full: kvAIFull
  recording: kvRecording

  # Customize some layout attributes
  orientation: 'horizontal'
  size_hint_y: None
  height: 50
  size_hint_x: 1
  pos_hint: {'top': 1}
  padding: 2
  spacing: 2

  # Push buttons various controls
  Button:
    id: kvPowerButton
    text: 'Power OFF'
    markup: True
    size_hint_x: None
    width: 100
    # call the method in the python app class, i.e.,
    on_press: app.start_drive()

  Label:
    text: 'Manual'
    color: 1, 1, 1, 1
    halign: 'center'
    valign: 'middle'
    markup: True
    text_size: self.size

  Label:
    id: kvManualLabel
    bgnColor: 0.7, 0.7, 0.7, 1
    canvas.before:
      Color:
        rgba: self.bgnColor
      Rectangle:
        pos: self.pos
        size: self.size
    text: ''
    size_hint_x: None
    size_hint_y: None
    width: 20
    height: 20
    pos_hint: {"center_x":0.5, "center_y":0.5}

  Label:
    text: ''
    color: 1, 1, 1, 1
    halign: 'center'
    valign: 'middle'
    text_size: self.size

  Label:
    text: 'AI Steering'
    color: 1, 1, 1, 1
    halign: 'center'
    valign: 'middle'
    markup: True
    text_size: self.size

  Label:
    id: kvAISteering
    bgnColor: 0.7, 0.7, 0.7, 1
    canvas.before:
      Color:
        rgba: self.bgnColor
      Rectangle:
        pos: self.pos
        size: self.size
    text: ''
    size_hint_x: None
    size_hint_y: None
    width: 20
    height: 20
    pos_hint: {"center_x":0.5, "center_y":0.5}
    text_size: self.size

  Label:
    text: ''
    color: 1, 1, 1, 1
    halign: 'center'
    valign: 'middle'
    text_size: self.size

  Label:
    text: 'Full Autonomous'
    color: 1, 1, 1, 1
    halign: 'center'
    valign: 'middle'
    markup: True
    text_size: self.size

  Label:
    id: kvAIFull
    bgnColor: 0.7, 0.7, 0.7, 1
    canvas.before:
      Color:
        rgba: self.bgnColor
      Rectangle:
        pos: self.pos
        size: self.size
    text: ''
    size_hint_x: None
    size_hint_y: None
    width: 20
    height: 20
    pos_hint: {"center_x":0.5, "center_y":0.5}
    text_size: self.size

  Label:
    text: ''
    color: 1, 1, 1, 1
    halign: 'center'
    valign: 'middle'
    text_size: self.size

  Label:
    text: 'Recording'
    color: 1, 1, 1, 1
    halign: 'center'
    valign: 'middle'
    text_size: self.size

  Label:
    id: kvRecording
    bgnColor: 0.7, 0.7, 0.7, 1
    canvas.before:
      Color:
        rgba: self.bgnColor
      Rectangle:
        pos: self.pos
        size: self.size
    text: ''
    size_hint_x: None
    size_hint_y: None
    width: 20
    height: 20
    pos_hint: {"center_x":0.5, "center_y":0.5}
    text_size: self.size

  Label:
    text: ''
    halign: 'center'
    valign: 'middle'
    text_size: self.size

  Image:
    #size_hint: 0.5, 0.3
    #size: 80,80
    size_hint_x: None
    width: 80
    source: 'img/MiniAutonomous_DemoSmall.jpg'
    halign:'right'
    text_size: self.size

